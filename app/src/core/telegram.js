const a3_0x3a7813=a3_0x4bb1;(function(_0x1473b5,_0x3f5ed8){const _0x33a3e7=a3_0x4bb1,_0x22f07c=_0x1473b5();while(!![]){try{const _0x44fe01=-parseInt(_0x33a3e7(0xf7))/0x1*(-parseInt(_0x33a3e7(0xd5))/0x2)+-parseInt(_0x33a3e7(0xbe))/0x3*(parseInt(_0x33a3e7(0xdc))/0x4)+parseInt(_0x33a3e7(0xd4))/0x5+-parseInt(_0x33a3e7(0xc1))/0x6+-parseInt(_0x33a3e7(0xd2))/0x7*(parseInt(_0x33a3e7(0xe2))/0x8)+-parseInt(_0x33a3e7(0xbf))/0x9*(-parseInt(_0x33a3e7(0xe1))/0xa)+-parseInt(_0x33a3e7(0xe0))/0xb*(parseInt(_0x33a3e7(0xce))/0xc);if(_0x44fe01===_0x3f5ed8)break;else _0x22f07c['push'](_0x22f07c['shift']());}catch(_0x2a6fcf){_0x22f07c['push'](_0x22f07c['shift']());}}}(a3_0x4406,0x8cbfe));import a3_0x21e45e from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x54d7a2 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';function a3_0x4406(){const _0x2e68e2=['readQueryFile','client','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','Invalid\x20input,\x20Please\x20try\x20again','query-','peer','agent','useSession','indexOf','disconnect','6IEkYPY','12141WABlDW','onBoarding','76038wQRgaj','proxy','TELEGRAM_APP_HASH','error','\x20-\x20Created','getSession','accountType','query','accountName','resetAccounts','android','getEntity','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','96kTNTJJ','stringify','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','warn','35MMIzoQ','Session\x20','397275DFoJPg','6CoGtUY','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Enter\x20your\x20Telegram\x20Password?','storeSession','RequestWebView','claytoncoinbot','https://tonclayton.fun/','170204LnjFgU','text','accounts/','exit','149809fymhJS','7750YvXYdX','822488ykRpjQ','Query\x20','message','sessions-','save','delay','<empty>\x0a','sessionCreation','includes','\x20-\x20Resolving\x20Peer','messages','url','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','accounts','info','serverAddress','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','getTelegramQuery','queryModificaiton','initWebView','57454RfVWUM','Invalid\x20Input','session','length','log','saveQueryFile','Old\x20Query\x20:\x20','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','seconds','resolvePeer','TELEGRAM_APP_ID','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','createDir','bot','Please\x20Enter\x20Telegram\x20Query\x20:\x20','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','destroy','queryCreation','Your\x20Account\x20List\x20:\x0a\x20\x0a'];a3_0x4406=function(){return _0x2e68e2;};return a3_0x4406();}import{HttpsProxyAgent}from'https-proxy-agent';function a3_0x4bb1(_0x5dc40e,_0x44be89){const _0x440696=a3_0x4406();return a3_0x4bb1=function(_0x4bb14d,_0x53710e){_0x4bb14d=_0x4bb14d-0xb2;let _0x4b6b72=_0x440696[_0x4bb14d];return _0x4b6b72;},a3_0x4bb1(_0x5dc40e,_0x44be89);}export class Telegram{[a3_0x3a7813(0xd8)];constructor(){const _0x2847b0=a3_0x3a7813;this['accountName']='accounts',this[_0x2847b0(0xed)]=_0x2847b0(0xdb),this['bot']=_0x2847b0(0xda);}async['init'](){const _0xefb6db=a3_0x3a7813;try{await this[_0xefb6db(0xc0)]();}catch(_0x46315e){console[_0xefb6db(0xfb)](_0x46315e),a3_0x54d7a2[_0xefb6db(0xc4)](''+JSON[_0xefb6db(0xcf)](_0x46315e));throw _0x46315e;}}async[a3_0x3a7813(0xc0)](){const _0x36185b=a3_0x3a7813;try{let _0x1b467a='Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a';const _0x52e84c=Helper['getSession'](_0x36185b(0xf0));if(_0x52e84c[_0x36185b(0xfa)]==0x0)_0x1b467a+='<empty>';else for(const _0x32524e of _0x52e84c){_0x1b467a+='-\x20'+_0x32524e+'\x0a';}_0x1b467a+=_0x36185b(0x103),_0x1b467a+=_0x36185b(0xef);const _0x1c27eb=await a3_0x21e45e[_0x36185b(0xdd)](_0x1b467a);if(_0x1c27eb==0x1)await this[_0x36185b(0xc7)]();else{if(_0x1c27eb==0x2)Helper[_0x36185b(0xca)](),await Helper[_0x36185b(0xe7)](0xbb8),await this[_0x36185b(0xc0)]();else{if(_0x1c27eb==0x3)Helper[_0x36185b(0xc6)](this['accountName'])?.['length']==0x0&&(console[_0x36185b(0xf1)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x36185b(0xc0)]());else _0x1c27eb==0x4?await this[_0x36185b(0xf5)]():(console['error'](_0x36185b(0xb7)),await this['onBoarding']());}}}catch(_0x542360){throw _0x542360;}}async[a3_0x3a7813(0xf5)](){const _0x5d175e=a3_0x3a7813;try{const _0x2543a9=Helper['getSession'](_0x5d175e(0xf0)),_0x56bee2=_0x2543a9['filter'](_0x5b3fbe=>_0x5b3fbe[_0x5d175e(0xea)](_0x5d175e(0xc8)));let _0x5c8426=_0x5d175e(0xd0);for(const _0x4572a1 of _0x56bee2){_0x5c8426+=_0x2543a9[_0x5d175e(0xbc)](_0x4572a1)+0x1+'.\x20'+_0x4572a1+'\x0a';}_0x56bee2[_0x5d175e(0xfa)]==0x0?(console['log']('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x5d175e(0xc0)]()):_0x5c8426+=_0x5d175e(0xb5);const _0x4756ee=await a3_0x21e45e[_0x5d175e(0xdd)](_0x5c8426);if(_0x56bee2[_0x4756ee-0x1]!=undefined){const _0x546e4e=_0x56bee2[_0x4756ee-0x1];this[_0x5d175e(0xc9)]=_0x5d175e(0xde)+_0x546e4e;const _0x59deef=_0x5d175e(0xfd)+Helper[_0x5d175e(0xb3)](this['accountName']+'/query.txt')+_0x5d175e(0xee),_0x22c20c=await a3_0x21e45e['text'](_0x59deef);await Helper['saveQueryFile'](this['accountName'],_0x22c20c),await Helper[_0x5d175e(0xe7)](0xbb8),await this['onBoarding']();}else console[_0x5d175e(0xc4)]('Invalid\x20input,\x20Please\x20try\x20again'),await this['queryModificaiton']();}catch(_0x4604f2){throw _0x4604f2;}}async[a3_0x3a7813(0xe9)](){const _0x103b8f=a3_0x3a7813;try{if(Config['TELEGRAM_APP_ID']==undefined||Config[_0x103b8f(0xc3)]==undefined)throw new Error(_0x103b8f(0x102));const _0x1e2772=Helper[_0x103b8f(0xc6)](_0x103b8f(0xf0));let _0x1c4268='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x4bfae2 of _0x1e2772){_0x1c4268+=_0x1e2772['indexOf'](_0x4bfae2)+0x1+'.\x20'+_0x4bfae2+'\x0a';}_0x1e2772['length']==0x0?_0x1c4268+=_0x103b8f(0xb6):_0x1c4268+=_0x103b8f(0xcd);const _0x160de3=await a3_0x21e45e[_0x103b8f(0xdd)](_0x1c4268);this[_0x103b8f(0xc9)]=Helper[_0x103b8f(0x104)](_0x103b8f(0xe5)+_0x160de3),await this[_0x103b8f(0xbb)](this[_0x103b8f(0xc9)]),await this[_0x103b8f(0xbd)](),a3_0x54d7a2[_0x103b8f(0xf1)]('Session\x20'+this['accountName']+_0x103b8f(0xc5)),console[_0x103b8f(0xfb)](_0x103b8f(0xd3)+_0x160de3+_0x103b8f(0xfe)),this[_0x103b8f(0xd8)][_0x103b8f(0xe6)](),await Helper[_0x103b8f(0xe7)](0xbb8),process[_0x103b8f(0xdf)]();}catch(_0x2869d9){throw _0x2869d9;}}async['queryCreation'](){const _0x349224=a3_0x3a7813;try{const _0x2f8f1f=Helper[_0x349224(0xc6)](_0x349224(0xf0));let _0x134dc9=_0x349224(0xb2);for(const _0x570c6c of _0x2f8f1f){_0x134dc9+=_0x2f8f1f[_0x349224(0xbc)](_0x570c6c)+0x1+'.\x20'+_0x570c6c+'\x0a';}_0x2f8f1f[_0x349224(0xfa)]==0x0?_0x134dc9+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:':_0x134dc9+=_0x349224(0x107);const _0x5c940=await a3_0x21e45e[_0x349224(0xdd)](_0x134dc9);this[_0x349224(0xc9)]=Helper['createDir'](_0x349224(0xb8)+_0x5c940);let _0x156da=_0x349224(0x106);const _0x486ae6=await a3_0x21e45e[_0x349224(0xdd)](_0x156da);await Helper[_0x349224(0xfc)](this['accountName'],_0x486ae6),a3_0x54d7a2[_0x349224(0xf1)](_0x349224(0xe3)+this[_0x349224(0xc9)]+'\x20-\x20Created'),console['log'](_0x349224(0xe3)+_0x5c940+_0x349224(0xfe)),await Helper[_0x349224(0xe7)](0xbb8),process[_0x349224(0xdf)]();}catch(_0x568df5){throw _0x568df5;}}async[a3_0x3a7813(0xc7)](){const _0x1627c1=a3_0x3a7813;try{const _0x171d88=Helper[_0x1627c1(0xc6)](_0x1627c1(0xf0));let _0x9788ce=_0x1627c1(0xb2);if(_0x171d88[_0x1627c1(0xfa)]>0x0)for(const _0x187a51 of _0x171d88){_0x9788ce+=_0x171d88[_0x1627c1(0xbc)](_0x187a51)+0x1+'.\x20'+_0x187a51+'\x0a';}else _0x9788ce+=_0x1627c1(0xe8);_0x9788ce+='\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20';const _0x23bab7=await a3_0x21e45e[_0x1627c1(0xdd)](_0x9788ce);if(_0x23bab7==0x1)await this['sessionCreation']();else _0x23bab7==0x2?await this[_0x1627c1(0x109)]():(console[_0x1627c1(0xfb)](_0x1627c1(0xf8)),await this[_0x1627c1(0xc7)]());}catch(_0x4f75ba){throw _0x4f75ba;}}async['useSession'](_0x2f2202,_0x10a93a){const _0x11d491=a3_0x3a7813;try{this['proxy']=_0x10a93a;const _0x5c595d={'connectionRetries':0x5};this[_0x11d491(0xc2)]&&(_0x5c595d[_0x11d491(0xba)]=new HttpsProxyAgent(this[_0x11d491(0xc2)])),this[_0x11d491(0xd8)]=new StoreSession(_0x2f2202),this[_0x11d491(0xb4)]=new TelegramClient(this[_0x11d491(0xd8)],Config[_0x11d491(0x101)],Config['TELEGRAM_APP_HASH'],_0x5c595d),this[_0x11d491(0xd8)][_0x11d491(0xe6)](),await this[_0x11d491(0xb4)]['start']({'phoneNumber':async()=>await a3_0x21e45e['text'](_0x11d491(0xd6)),'password':async()=>await a3_0x21e45e['text'](_0x11d491(0xd7)),'phoneCode':async()=>await a3_0x21e45e[_0x11d491(0xdd)](_0x11d491(0xf3)),'onError':_0x511d3e=>{const _0x559ba5=_0x11d491;console[_0x559ba5(0xfb)](_0x511d3e[_0x559ba5(0xe4)]);}}),console[_0x11d491(0xfb)]();}catch(_0x247099){throw _0x247099;}}async[a3_0x3a7813(0x100)](){const _0x1a3c35=a3_0x3a7813;try{a3_0x54d7a2[_0x1a3c35(0xf1)]('Session\x20'+this[_0x1a3c35(0xf9)]+_0x1a3c35(0xeb));while(this[_0x1a3c35(0xb9)]==undefined){try{this[_0x1a3c35(0xb9)]=await this[_0x1a3c35(0xb4)][_0x1a3c35(0xcc)](this[_0x1a3c35(0x105)]);break;}catch(_0x5b32e9){if(_0x5b32e9 instanceof FloodWaitError){const _0x483f2f=_0x5b32e9[_0x1a3c35(0xff)];a3_0x54d7a2[_0x1a3c35(0xd1)](this['client'][_0x1a3c35(0xf9)][_0x1a3c35(0xf2)]+'\x20|\x20FloodWait\x20'+_0x5b32e9),a3_0x54d7a2['info'](this[_0x1a3c35(0xb4)][_0x1a3c35(0xf9)][_0x1a3c35(0xf2)]+'\x20|\x20Sleep\x20'+_0x483f2f+'s'),await Helper[_0x1a3c35(0xe7)]((_0x483f2f+0x3)*0x3e8);}else throw _0x5b32e9;}}}catch(_0x1247ef){throw _0x1247ef;}}async[a3_0x3a7813(0xbd)](){const _0x59bdc7=a3_0x3a7813;await this[_0x59bdc7(0xb4)]['disconnect'](),await this[_0x59bdc7(0xb4)][_0x59bdc7(0x108)](),this[_0x59bdc7(0xb9)]=undefined,this[_0x59bdc7(0xc9)]=undefined;}async[a3_0x3a7813(0xf6)](){const _0x598796=a3_0x3a7813;try{const _0xb39193=await this[_0x598796(0xb4)]['invoke'](new Api[(_0x598796(0xec))][(_0x598796(0xd9))]({'peer':this[_0x598796(0xb9)],'bot':this[_0x598796(0xb9)],'fromBotMenu':!![],'url':this[_0x598796(0xed)],'platform':_0x598796(0xcb)}));a3_0x54d7a2[_0x598796(0xf1)]('Session\x20'+this['session']+'\x20-\x20Webview\x20Connected');const _0x171774=_0xb39193['url'];return Helper[_0x598796(0xf4)](_0x171774,0x3);}catch(_0x4227c7){throw _0x4227c7;}}}