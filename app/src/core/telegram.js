const a3_0x1306e0=a3_0x5310;function a3_0x451d(){const _0x4eee3f=['readQueryFile','exit','proxy','delay','\x20-\x20Resolving\x20Peer','sessionCreation','resetAccounts','onBoarding','stringify','serverAddress','Session\x20','1497975VmBMnW','length','20WldUyh','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','message','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','getEntity','1613464fZGEqT','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','storeSession','peer','destroy','query','start','indexOf','You\x20dont\x20have\x20any\x20Query\x20Account.','text','\x20-\x20Created','createDir','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','useSession','filter','<empty>','session','\x20|\x20FloodWait\x20','queryModificaiton','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','client','seconds','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','1434029IeKoSC','messages','https://tonclayton.fun/','resolvePeer','claytoncoinbot','url','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','Please\x20Enter\x20Telegram\x20Query\x20:\x20','TELEGRAM_APP_ID','Your\x20Account\x20List\x20:\x0a\x20\x0a','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','accountName','\x20-\x20Webview\x20Connected','log','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','bot','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','queryCreation','info','initWebView','accountType','getSession','saveQueryFile','560SXNRZO','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','<empty>\x0a','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','includes','/query.txt','accounts','Invalid\x20Input','57350iOqxEt','error','59590564VLjebV','getTelegramQuery','1971enuLjB','TELEGRAM_APP_HASH','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','Invalid\x20input,\x20Please\x20try\x20again','save','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','agent','2cghTBW','132024sskOqo','disconnect','invoke','3739764StttBT','accounts/','Old\x20Query\x20:\x20'];a3_0x451d=function(){return _0x4eee3f;};return a3_0x451d();}(function(_0x296170,_0x5e5306){const _0x29a930=a3_0x5310,_0x3c7887=_0x296170();while(!![]){try{const _0x1ea580=-parseInt(_0x29a930(0x1ce))/0x1*(parseInt(_0x29a930(0x19e))/0x2)+-parseInt(_0x29a930(0x1a2))/0x3+-parseInt(_0x29a930(0x1b2))/0x4*(parseInt(_0x29a930(0x1b0))/0x5)+parseInt(_0x29a930(0x19f))/0x6*(-parseInt(_0x29a930(0x18b))/0x7)+parseInt(_0x29a930(0x1b7))/0x8+parseInt(_0x29a930(0x197))/0x9*(parseInt(_0x29a930(0x193))/0xa)+parseInt(_0x29a930(0x195))/0xb;if(_0x1ea580===_0x5e5306)break;else _0x3c7887['push'](_0x3c7887['shift']());}catch(_0x2dc301){_0x3c7887['push'](_0x3c7887['shift']());}}}(a3_0x451d,0xe487c));import a3_0x402b07 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x30b08b from'../utils/logger.js';function a3_0x5310(_0x3da4b0,_0x3857e9){const _0x451d57=a3_0x451d();return a3_0x5310=function(_0x53108b,_0x4d0d4e){_0x53108b=_0x53108b-0x17e;let _0x1b06ae=_0x451d57[_0x53108b];return _0x1b06ae;},a3_0x5310(_0x3da4b0,_0x3857e9);}import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{['storeSession'];constructor(){const _0x415579=a3_0x5310;this['accountName']=_0x415579(0x191),this[_0x415579(0x1d3)]=_0x415579(0x1d0),this[_0x415579(0x182)]=_0x415579(0x1d2);}async['init'](){const _0x1e796f=a3_0x5310;try{await this['onBoarding']();}catch(_0x556f4f){console[_0x1e796f(0x180)](_0x556f4f),a3_0x30b08b[_0x1e796f(0x194)](''+JSON[_0x1e796f(0x1ad)](_0x556f4f));throw _0x556f4f;}}async[a3_0x1306e0(0x1ac)](){const _0x1d947=a3_0x1306e0;try{let _0x4cbd82=_0x1d947(0x181);const _0x19b69d=Helper['getSession'](_0x1d947(0x191));if(_0x19b69d[_0x1d947(0x1b1)]==0x0)_0x4cbd82+=_0x1d947(0x1c6);else for(const _0x45bd5e of _0x19b69d){_0x4cbd82+='-\x20'+_0x45bd5e+'\x0a';}_0x4cbd82+=_0x1d947(0x19c),_0x4cbd82+=_0x1d947(0x1b3);const _0x44da6b=await a3_0x402b07[_0x1d947(0x1c0)](_0x4cbd82);if(_0x44da6b==0x1)await this['accountType']();else{if(_0x44da6b==0x2)Helper[_0x1d947(0x1ab)](),await Helper[_0x1d947(0x1a8)](0xbb8),await this['onBoarding']();else{if(_0x44da6b==0x3)Helper['getSession'](this[_0x1d947(0x17e)])?.[_0x1d947(0x1b1)]==0x0&&(console[_0x1d947(0x186)](_0x1d947(0x18c)),await this['onBoarding']());else _0x44da6b==0x4?await this[_0x1d947(0x1c9)]():(console[_0x1d947(0x194)](_0x1d947(0x19a)),await this[_0x1d947(0x1ac)]());}}}catch(_0x3e5751){throw _0x3e5751;}}async[a3_0x1306e0(0x1c9)](){const _0x30acd0=a3_0x1306e0;try{const _0x126e8f=Helper[_0x30acd0(0x189)](_0x30acd0(0x191)),_0x408091=_0x126e8f[_0x30acd0(0x1c5)](_0x40be02=>_0x40be02[_0x30acd0(0x18f)](_0x30acd0(0x1bc)));let _0x13c1c6='Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x1b507b of _0x408091){_0x13c1c6+=_0x126e8f[_0x30acd0(0x1be)](_0x1b507b)+0x1+'.\x20'+_0x1b507b+'\x0a';}_0x408091[_0x30acd0(0x1b1)]==0x0?(console['log'](_0x30acd0(0x1bf)),await this[_0x30acd0(0x1ac)]()):_0x13c1c6+=_0x30acd0(0x1ca);const _0x27ebc3=await a3_0x402b07['text'](_0x13c1c6);if(_0x408091[_0x27ebc3-0x1]!=undefined){const _0x298763=_0x408091[_0x27ebc3-0x1];this[_0x30acd0(0x17e)]=_0x30acd0(0x1a3)+_0x298763;const _0x552976=_0x30acd0(0x1a4)+Helper[_0x30acd0(0x1a5)](this[_0x30acd0(0x17e)]+_0x30acd0(0x190))+_0x30acd0(0x184),_0x516d33=await a3_0x402b07[_0x30acd0(0x1c0)](_0x552976);await Helper[_0x30acd0(0x18a)](this[_0x30acd0(0x17e)],_0x516d33),await Helper[_0x30acd0(0x1a8)](0xbb8),await this['onBoarding']();}else console[_0x30acd0(0x194)](_0x30acd0(0x19a)),await this[_0x30acd0(0x1c9)]();}catch(_0x49b334){throw _0x49b334;}}async[a3_0x1306e0(0x1aa)](){const _0x51c4a6=a3_0x1306e0;try{if(Config[_0x51c4a6(0x1d6)]==undefined||Config[_0x51c4a6(0x198)]==undefined)throw new Error(_0x51c4a6(0x1d4));const _0x509087=Helper['getSession']('accounts');let _0x85f50b=_0x51c4a6(0x1d7);for(const _0x442298 of _0x509087){_0x85f50b+=_0x509087['indexOf'](_0x442298)+0x1+'.\x20'+_0x442298+'\x0a';}_0x509087['length']==0x0?_0x85f50b+=_0x51c4a6(0x1cd):_0x85f50b+=_0x51c4a6(0x1b5);const _0x1c5551=await a3_0x402b07[_0x51c4a6(0x1c0)](_0x85f50b);this[_0x51c4a6(0x17e)]=Helper[_0x51c4a6(0x1c2)]('sessions-'+_0x1c5551),await this[_0x51c4a6(0x1c4)](this[_0x51c4a6(0x17e)]),await this[_0x51c4a6(0x1a0)](),a3_0x30b08b['info'](_0x51c4a6(0x1af)+this[_0x51c4a6(0x17e)]+'\x20-\x20Created'),console[_0x51c4a6(0x180)]('Session\x20'+_0x1c5551+_0x51c4a6(0x1d8)),this[_0x51c4a6(0x1b9)]['save'](),await Helper[_0x51c4a6(0x1a8)](0xbb8),process['exit']();}catch(_0x4993af){throw _0x4993af;}}async[a3_0x1306e0(0x185)](){const _0x1eacb8=a3_0x1306e0;try{const _0xc84f44=Helper[_0x1eacb8(0x189)](_0x1eacb8(0x191));let _0xa0efb2=_0x1eacb8(0x1d7);for(const _0x2a2c4c of _0xc84f44){_0xa0efb2+=_0xc84f44['indexOf'](_0x2a2c4c)+0x1+'.\x20'+_0x2a2c4c+'\x0a';}_0xc84f44[_0x1eacb8(0x1b1)]==0x0?_0xa0efb2+=_0x1eacb8(0x1c3):_0xa0efb2+=_0x1eacb8(0x1b8);const _0x57eab7=await a3_0x402b07[_0x1eacb8(0x1c0)](_0xa0efb2);this['accountName']=Helper['createDir']('query-'+_0x57eab7);let _0x7c982d=_0x1eacb8(0x1d5);const _0x416245=await a3_0x402b07['text'](_0x7c982d);await Helper[_0x1eacb8(0x18a)](this[_0x1eacb8(0x17e)],_0x416245),a3_0x30b08b['info']('Query\x20'+this[_0x1eacb8(0x17e)]+_0x1eacb8(0x1c1)),console[_0x1eacb8(0x180)]('Query\x20'+_0x57eab7+_0x1eacb8(0x1d8)),await Helper['delay'](0xbb8),process[_0x1eacb8(0x1a6)]();}catch(_0xcab9c0){throw _0xcab9c0;}}async[a3_0x1306e0(0x188)](){const _0x5ae90b=a3_0x1306e0;try{const _0x570f4a=Helper[_0x5ae90b(0x189)](_0x5ae90b(0x191));let _0x2bd4e6=_0x5ae90b(0x1d7);if(_0x570f4a[_0x5ae90b(0x1b1)]>0x0)for(const _0x277de4 of _0x570f4a){_0x2bd4e6+=_0x570f4a['indexOf'](_0x277de4)+0x1+'.\x20'+_0x277de4+'\x0a';}else _0x2bd4e6+=_0x5ae90b(0x18d);_0x2bd4e6+=_0x5ae90b(0x183);const _0x5571bd=await a3_0x402b07[_0x5ae90b(0x1c0)](_0x2bd4e6);if(_0x5571bd==0x1)await this[_0x5ae90b(0x1aa)]();else _0x5571bd==0x2?await this[_0x5ae90b(0x185)]():(console[_0x5ae90b(0x180)](_0x5ae90b(0x192)),await this['accountType']());}catch(_0x49416a){throw _0x49416a;}}async['useSession'](_0x2510af,_0x9f7bfc){const _0x84facc=a3_0x1306e0;try{this[_0x84facc(0x1a7)]=_0x9f7bfc;const _0x416087={'connectionRetries':0x5};this[_0x84facc(0x1a7)]&&(_0x416087[_0x84facc(0x19d)]=new HttpsProxyAgent(this[_0x84facc(0x1a7)])),this[_0x84facc(0x1b9)]=new StoreSession(_0x2510af),this[_0x84facc(0x1cb)]=new TelegramClient(this[_0x84facc(0x1b9)],Config[_0x84facc(0x1d6)],Config[_0x84facc(0x198)],_0x416087),this[_0x84facc(0x1b9)][_0x84facc(0x19b)](),await this['client'][_0x84facc(0x1bd)]({'phoneNumber':async()=>await a3_0x402b07[_0x84facc(0x1c0)](_0x84facc(0x199)),'password':async()=>await a3_0x402b07['text']('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0x402b07[_0x84facc(0x1c0)](_0x84facc(0x18e)),'onError':_0x4557d7=>{const _0x491e89=_0x84facc;console['log'](_0x4557d7[_0x491e89(0x1b4)]);}}),console[_0x84facc(0x180)]();}catch(_0x2708ca){throw _0x2708ca;}}async[a3_0x1306e0(0x1d1)](){const _0x54768c=a3_0x1306e0;try{a3_0x30b08b[_0x54768c(0x186)](_0x54768c(0x1af)+this[_0x54768c(0x1c7)]+_0x54768c(0x1a9));while(this[_0x54768c(0x1ba)]==undefined){try{this['peer']=await this[_0x54768c(0x1cb)][_0x54768c(0x1b6)](this[_0x54768c(0x182)]);break;}catch(_0x25a50e){if(_0x25a50e instanceof FloodWaitError){const _0xb1423d=_0x25a50e[_0x54768c(0x1cc)];a3_0x30b08b['warn'](this[_0x54768c(0x1cb)][_0x54768c(0x1c7)][_0x54768c(0x1ae)]+_0x54768c(0x1c8)+_0x25a50e),a3_0x30b08b[_0x54768c(0x186)](this[_0x54768c(0x1cb)][_0x54768c(0x1c7)][_0x54768c(0x1ae)]+'\x20|\x20Sleep\x20'+_0xb1423d+'s'),await Helper['delay']((_0xb1423d+0x3)*0x3e8);}else throw _0x25a50e;}}}catch(_0x26ff60){throw _0x26ff60;}}async[a3_0x1306e0(0x1a0)](){const _0x5bd1a6=a3_0x1306e0;await this[_0x5bd1a6(0x1cb)][_0x5bd1a6(0x1a0)](),await this[_0x5bd1a6(0x1cb)][_0x5bd1a6(0x1bb)](),this['peer']=undefined,this['accountName']=undefined;}async[a3_0x1306e0(0x187)](){const _0x190b08=a3_0x1306e0;try{const _0x32b2f2=await this['client'][_0x190b08(0x1a1)](new Api[(_0x190b08(0x1cf))]['RequestWebView']({'peer':this[_0x190b08(0x1ba)],'bot':this[_0x190b08(0x1ba)],'fromBotMenu':!![],'url':this[_0x190b08(0x1d3)],'platform':'android'}));a3_0x30b08b['info'](_0x190b08(0x1af)+this['session']+_0x190b08(0x17f));const _0x35c5c8=_0x32b2f2[_0x190b08(0x1d3)];return Helper[_0x190b08(0x196)](_0x35c5c8,0x3);}catch(_0x308418){throw _0x308418;}}}