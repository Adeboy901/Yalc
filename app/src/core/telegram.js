const a3_0x5c501c=a3_0x50fa;(function(_0xe5f68,_0xe3fd0){const _0x4c6290=a3_0x50fa,_0x471b61=_0xe5f68();while(!![]){try{const _0x5c4411=parseInt(_0x4c6290(0x1e5))/0x1*(-parseInt(_0x4c6290(0x1e1))/0x2)+parseInt(_0x4c6290(0x1e7))/0x3*(-parseInt(_0x4c6290(0x1ef))/0x4)+parseInt(_0x4c6290(0x1de))/0x5*(parseInt(_0x4c6290(0x1dd))/0x6)+-parseInt(_0x4c6290(0x1fa))/0x7+-parseInt(_0x4c6290(0x1b6))/0x8*(-parseInt(_0x4c6290(0x1f7))/0x9)+parseInt(_0x4c6290(0x1da))/0xa*(parseInt(_0x4c6290(0x1f8))/0xb)+parseInt(_0x4c6290(0x1f1))/0xc;if(_0x5c4411===_0xe3fd0)break;else _0x471b61['push'](_0x471b61['shift']());}catch(_0x20ec35){_0x471b61['push'](_0x471b61['shift']());}}}(a3_0x3f3e,0x18ce2));function a3_0x50fa(_0x4b4015,_0x5b9870){const _0x3f3ef9=a3_0x3f3e();return a3_0x50fa=function(_0x50fa36,_0x363453){_0x50fa36=_0x50fa36-0x1ad;let _0x18a3d4=_0x3f3ef9[_0x50fa36];return _0x18a3d4;},a3_0x50fa(_0x4b4015,_0x5b9870);}import a3_0xa6736e from'input';import{Helper}from'../utils/helper.js';function a3_0x3f3e(){const _0xcefe4a=['query','save','warn','info','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','TELEGRAM_APP_HASH','queryModificaiton','You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first','<empty>','12170QQfbbS','createDir','error','216390QgPRSP','20okRjnj','destroy','accountType','26510pKOInN','readQueryFile','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','length','10LgxkDL','getTelegramQuery','105ivEclg','delay','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','queryCreation','\x20-\x20Resolving\x20Peer','seconds','accountName','Your\x20Account\x20List\x20:\x0a\x20\x0a','21556eyEMDE','Query\x20','3724008BNKpXf','init','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','resolvePeer','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','url','745083ZdOfOE','561ANzpaD','disconnect','1236767xuBrum','storeSession','accounts','bot','proxy','invoke','client','\x20|\x20Sleep\x20','useSession','stringify','8YKtvQQ','text','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:','onBoarding','RequestWebView','filter','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','sessions-','log','getSession','peer','claytoncoinbot','indexOf','Enter\x20your\x20Telegram\x20Phone\x20Number\x20?','\x20-\x20Created','Invalid\x20input,\x20Please\x20try\x20again','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','Session\x20','session','TELEGRAM_APP_ID','android','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','saveQueryFile','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','Please\x20Enter\x20Telegram\x20Query\x20:\x20','exit','sessionCreation'];a3_0x3f3e=function(){return _0xcefe4a;};return a3_0x3f3e();}import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x408720 from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x5c501c(0x1ad)];constructor(){const _0x29c79a=a3_0x5c501c;this[_0x29c79a(0x1ed)]=_0x29c79a(0x1ae),this[_0x29c79a(0x1f6)]='https://tonclayton.fun/',this[_0x29c79a(0x1af)]=_0x29c79a(0x1c1);}async[a3_0x5c501c(0x1f2)](){const _0x32ddf=a3_0x5c501c;try{await this[_0x32ddf(0x1b9)]();}catch(_0x5e6023){console['log'](_0x5e6023),a3_0x408720['error'](''+JSON[_0x32ddf(0x1b5)](_0x5e6023));throw _0x5e6023;}}async[a3_0x5c501c(0x1b9)](){const _0x34f104=a3_0x5c501c;try{let _0x5537ef='Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a';const _0x33fb02=Helper['getSession']('accounts');if(_0x33fb02['length']==0x0)_0x5537ef+=_0x34f104(0x1d9);else for(const _0x2c927f of _0x33fb02){_0x5537ef+='-\x20'+_0x2c927f+'\x0a';}_0x5537ef+=_0x34f104(0x1bc),_0x5537ef+=_0x34f104(0x1d5);const _0x4d0db7=await a3_0xa6736e[_0x34f104(0x1b7)](_0x5537ef);if(_0x4d0db7==0x1)await this['accountType']();else{if(_0x4d0db7==0x2)Helper['resetAccounts'](),await Helper[_0x34f104(0x1e8)](0xbb8),await this[_0x34f104(0x1b9)]();else{if(_0x4d0db7==0x3)Helper[_0x34f104(0x1bf)](this[_0x34f104(0x1ed)])?.[_0x34f104(0x1e4)]==0x0&&(console[_0x34f104(0x1d4)](_0x34f104(0x1d8)),await this[_0x34f104(0x1b9)]());else _0x4d0db7==0x4?await this['queryModificaiton']():(console[_0x34f104(0x1dc)](_0x34f104(0x1c5)),await this[_0x34f104(0x1b9)]());}}}catch(_0x446e1b){throw _0x446e1b;}}async[a3_0x5c501c(0x1d7)](){const _0x2aab2b=a3_0x5c501c;try{const _0x35896c=Helper[_0x2aab2b(0x1bf)]('accounts'),_0x3fbc28=_0x35896c[_0x2aab2b(0x1bb)](_0x20bcd4=>_0x20bcd4['includes'](_0x2aab2b(0x1d1)));let _0x547f76='Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0xae2e of _0x3fbc28){_0x547f76+=_0x35896c[_0x2aab2b(0x1c2)](_0xae2e)+0x1+'.\x20'+_0xae2e+'\x0a';}_0x3fbc28['length']==0x0?(console[_0x2aab2b(0x1be)]('You\x20dont\x20have\x20any\x20Query\x20Account.'),await this[_0x2aab2b(0x1b9)]()):_0x547f76+=_0x2aab2b(0x1cd);const _0x30e7e4=await a3_0xa6736e['text'](_0x547f76);if(_0x3fbc28[_0x30e7e4-0x1]!=undefined){const _0x2f7be1=_0x3fbc28[_0x30e7e4-0x1];this[_0x2aab2b(0x1ed)]='accounts/'+_0x2f7be1;const _0x27cc11='Old\x20Query\x20:\x20'+Helper[_0x2aab2b(0x1e2)](this[_0x2aab2b(0x1ed)]+'/query.txt')+'\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20',_0x3bc3ce=await a3_0xa6736e[_0x2aab2b(0x1b7)](_0x27cc11);await Helper[_0x2aab2b(0x1cc)](this['accountName'],_0x3bc3ce),await Helper[_0x2aab2b(0x1e8)](0xbb8),await this[_0x2aab2b(0x1b9)]();}else console['error'](_0x2aab2b(0x1c5)),await this[_0x2aab2b(0x1d7)]();}catch(_0xcb273a){throw _0xcb273a;}}async['sessionCreation'](){const _0x42f819=a3_0x5c501c;try{if(Config[_0x42f819(0x1c9)]==undefined||Config[_0x42f819(0x1d6)]==undefined)throw new Error(_0x42f819(0x1cb));const _0x4c2def=Helper[_0x42f819(0x1bf)](_0x42f819(0x1ae));let _0x4aa3bc=_0x42f819(0x1ee);for(const _0x3c1dd6 of _0x4c2def){_0x4aa3bc+=_0x4c2def['indexOf'](_0x3c1dd6)+0x1+'.\x20'+_0x3c1dd6+'\x0a';}_0x4c2def[_0x42f819(0x1e4)]==0x0?_0x4aa3bc+=_0x42f819(0x1b8):_0x4aa3bc+=_0x42f819(0x1e3);const _0x46eba9=await a3_0xa6736e[_0x42f819(0x1b7)](_0x4aa3bc);this[_0x42f819(0x1ed)]=Helper['createDir'](_0x42f819(0x1bd)+_0x46eba9),await this[_0x42f819(0x1b4)](this[_0x42f819(0x1ed)]),await this['disconnect'](),a3_0x408720[_0x42f819(0x1d4)](_0x42f819(0x1c7)+this['accountName']+_0x42f819(0x1c4)),console['log'](_0x42f819(0x1c7)+_0x46eba9+_0x42f819(0x1e9)),this[_0x42f819(0x1ad)][_0x42f819(0x1d2)](),await Helper[_0x42f819(0x1e8)](0xbb8),process[_0x42f819(0x1cf)]();}catch(_0x4015cd){throw _0x4015cd;}}async['queryCreation'](){const _0x38022f=a3_0x5c501c;try{const _0x282712=Helper['getSession'](_0x38022f(0x1ae));let _0x5fca31=_0x38022f(0x1ee);for(const _0xe411df of _0x282712){_0x5fca31+=_0x282712[_0x38022f(0x1c2)](_0xe411df)+0x1+'.\x20'+_0xe411df+'\x0a';}_0x282712[_0x38022f(0x1e4)]==0x0?_0x5fca31+=_0x38022f(0x1f5):_0x5fca31+=_0x38022f(0x1c6);const _0x5a69bf=await a3_0xa6736e[_0x38022f(0x1b7)](_0x5fca31);this[_0x38022f(0x1ed)]=Helper[_0x38022f(0x1db)]('query-'+_0x5a69bf);let _0x40eb94=_0x38022f(0x1ce);const _0x172a59=await a3_0xa6736e[_0x38022f(0x1b7)](_0x40eb94);await Helper[_0x38022f(0x1cc)](this['accountName'],_0x172a59),a3_0x408720[_0x38022f(0x1d4)](_0x38022f(0x1f0)+this[_0x38022f(0x1ed)]+_0x38022f(0x1c4)),console['log'](_0x38022f(0x1f0)+_0x5a69bf+_0x38022f(0x1e9)),await Helper[_0x38022f(0x1e8)](0xbb8),process[_0x38022f(0x1cf)]();}catch(_0x11be30){throw _0x11be30;}}async['accountType'](){const _0x595b90=a3_0x5c501c;try{const _0x589227=Helper[_0x595b90(0x1bf)](_0x595b90(0x1ae));let _0x59e69f=_0x595b90(0x1ee);if(_0x589227[_0x595b90(0x1e4)]>0x0)for(const _0x4ac658 of _0x589227){_0x59e69f+=_0x589227[_0x595b90(0x1c2)](_0x4ac658)+0x1+'.\x20'+_0x4ac658+'\x0a';}else _0x59e69f+='<empty>\x0a';_0x59e69f+=_0x595b90(0x1f3);const _0x436726=await a3_0xa6736e[_0x595b90(0x1b7)](_0x59e69f);if(_0x436726==0x1)await this[_0x595b90(0x1d0)]();else _0x436726==0x2?await this[_0x595b90(0x1ea)]():(console['log']('Invalid\x20Input'),await this[_0x595b90(0x1e0)]());}catch(_0x258514){throw _0x258514;}}async[a3_0x5c501c(0x1b4)](_0x16f588,_0xc2edfa){const _0x355636=a3_0x5c501c;try{this[_0x355636(0x1b0)]=_0xc2edfa;const _0x11820f={'connectionRetries':0x5};this[_0x355636(0x1b0)]&&(_0x11820f['agent']=new HttpsProxyAgent(this['proxy'])),this[_0x355636(0x1ad)]=new StoreSession(_0x16f588),this[_0x355636(0x1b2)]=new TelegramClient(this['storeSession'],Config[_0x355636(0x1c9)],Config[_0x355636(0x1d6)],_0x11820f),this['storeSession'][_0x355636(0x1d2)](),await this[_0x355636(0x1b2)]['start']({'phoneNumber':async()=>await a3_0xa6736e['text'](_0x355636(0x1c3)),'password':async()=>await a3_0xa6736e[_0x355636(0x1b7)]('Enter\x20your\x20Telegram\x20Password?'),'phoneCode':async()=>await a3_0xa6736e[_0x355636(0x1b7)]('Enter\x20your\x20Telegram\x20Verification\x20Code\x20?'),'onError':_0xdc30d=>{console['log'](_0xdc30d['message']);}}),console[_0x355636(0x1be)]();}catch(_0xdacb28){throw _0xdacb28;}}async[a3_0x5c501c(0x1f4)](){const _0xe4240e=a3_0x5c501c;try{a3_0x408720['info'](_0xe4240e(0x1c7)+this[_0xe4240e(0x1c8)]+_0xe4240e(0x1eb));while(this['peer']==undefined){try{this[_0xe4240e(0x1c0)]=await this[_0xe4240e(0x1b2)]['getEntity'](this['bot']);break;}catch(_0x4fe7d2){if(_0x4fe7d2 instanceof FloodWaitError){const _0x5af72d=_0x4fe7d2[_0xe4240e(0x1ec)];a3_0x408720[_0xe4240e(0x1d3)](this[_0xe4240e(0x1b2)][_0xe4240e(0x1c8)]['serverAddress']+'\x20|\x20FloodWait\x20'+_0x4fe7d2),a3_0x408720['info'](this[_0xe4240e(0x1b2)][_0xe4240e(0x1c8)]['serverAddress']+_0xe4240e(0x1b3)+_0x5af72d+'s'),await Helper[_0xe4240e(0x1e8)]((_0x5af72d+0x3)*0x3e8);}else throw _0x4fe7d2;}}}catch(_0x48f2cb){throw _0x48f2cb;}}async[a3_0x5c501c(0x1f9)](){const _0x2099f9=a3_0x5c501c;await this[_0x2099f9(0x1b2)]['disconnect'](),await this['client'][_0x2099f9(0x1df)](),this['peer']=undefined,this[_0x2099f9(0x1ed)]=undefined;}async['initWebView'](){const _0x7cbae4=a3_0x5c501c;try{const _0x8af267=await this[_0x7cbae4(0x1b2)][_0x7cbae4(0x1b1)](new Api['messages'][(_0x7cbae4(0x1ba))]({'peer':this['peer'],'bot':this[_0x7cbae4(0x1c0)],'fromBotMenu':!![],'url':this[_0x7cbae4(0x1f6)],'platform':_0x7cbae4(0x1ca)}));a3_0x408720[_0x7cbae4(0x1d4)]('Session\x20'+this['session']+'\x20-\x20Webview\x20Connected');const _0x6f7d4f=_0x8af267[_0x7cbae4(0x1f6)];return Helper[_0x7cbae4(0x1e6)](_0x6f7d4f,0x3);}catch(_0x41222c){throw _0x41222c;}}}