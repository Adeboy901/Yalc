const a3_0x245534=a3_0xe993;function a3_0xe993(_0x37963d,_0x1a35c8){const _0x37d48b=a3_0x37d4();return a3_0xe993=function(_0xe993d6,_0x5390b4){_0xe993d6=_0xe993d6-0x137;let _0x27e5ca=_0x37d48b[_0xe993d6];return _0x27e5ca;},a3_0xe993(_0x37963d,_0x1a35c8);}(function(_0x247d57,_0x583001){const _0x9a67d3=a3_0xe993,_0xe27946=_0x247d57();while(!![]){try{const _0x45df8b=parseInt(_0x9a67d3(0x13b))/0x1+parseInt(_0x9a67d3(0x15b))/0x2+parseInt(_0x9a67d3(0x14b))/0x3*(-parseInt(_0x9a67d3(0x17b))/0x4)+-parseInt(_0x9a67d3(0x143))/0x5+parseInt(_0x9a67d3(0x14a))/0x6*(-parseInt(_0x9a67d3(0x155))/0x7)+parseInt(_0x9a67d3(0x178))/0x8*(-parseInt(_0x9a67d3(0x186))/0x9)+-parseInt(_0x9a67d3(0x159))/0xa*(-parseInt(_0x9a67d3(0x15d))/0xb);if(_0x45df8b===_0x583001)break;else _0xe27946['push'](_0xe27946['shift']());}catch(_0x46dc65){_0xe27946['push'](_0xe27946['shift']());}}}(a3_0x37d4,0x627a6));function a3_0x37d4(){const _0x548ad5=['sessionCreation','error','readQueryFile','query','indexOf','TELEGRAM_APP_ID','\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again','6362456zEcDfe','message','queryCreation','22460UTSkXi','warn','initWebView','\x0a\x20\x0aPlease\x20Select\x20Query\x20Account\x20for\x20modification:','Please\x20Enter\x20Telegram\x20Query\x20:\x20','accounts/','exit','claytoncoinbot','\x0a\x20\x0aYou\x20already\x20have\x20Account,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Account\x20:','https://tonclayton.fun/','queryModificaiton','9Mqvhfh','/query.txt','useSession','includes','\x0a\x20\x0aAvailable\x20Account\x20Type:\x20\x0a1.\x20Session\x20\x0a2.\x20Query\x0a\x20\x0aPlease\x20Entery\x20Your\x20Choice\x20:\x20','proxy','\x0a\x20\x0aPlease\x20Choose\x20a\x20menu:\x20\x0a','\x20-\x20Created','log','Your\x20Query\x20Account\x20List\x20:\x0a\x20\x0a','messages','You\x20dont\x20have\x20any\x20Query\x20Account.','accountType','652380SMAUrb','<empty>','\x20-\x20Webview\x20Connected','disconnect','peer','createDir','resolvePeer','onBoarding','1653935HTuylN','Please\x20configure\x20your\x20TELEGRAM_APP_ID\x20and\x20TELEGRAM_APP_HASH\x20first','\x20|\x20Sleep\x20','Invalid\x20input,\x20Please\x20try\x20again','client','saveQueryFile','storeSession','4544922QzjufG','99fvtTVs','info','\x0a\x20\x0aPlease\x20Enter\x20New\x20Query\x20','TELEGRAM_APP_HASH','query-','Welcome\x20to\x20Bot\x20\x0aBy\x20:\x20Widiskel\x20\x0a\x20\x0aLets\x20getting\x20started.\x0a\x0aYour\x20Session\x20List:\x0a','delay','getSession','bot','\x0a\x20\x0aYou\x20already\x20have\x20sessions,\x20cancel(CTRL+C)\x20or\x20create\x20new\x20Session\x20:','7DsXDqd','Enter\x20your\x20Telegram\x20Verification\x20Code\x20?','Your\x20Account\x20List\x20:\x0a\x20\x0a','start','740YIlkQB','url','149736CaZxaq','<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Account\x20Name\x20:','259391LoyVBV','save','<empty>\x0a','getEntity','filter','text','Session\x20','Query\x20','accountName','accounts','android','Enter\x20your\x20Telegram\x20Password?','invoke','resetAccounts','RequestWebView','sessions-','session','serverAddress','\x0a\x20\x0a1.\x20Create\x20Account\x20\x0a2.\x20Reset\x20Account\x20\x0a3.\x20Start\x20Bot\x0a4.\x20Query\x20modification\x0a\x20\x0aInput\x20your\x20choice\x20:','length'];a3_0x37d4=function(){return _0x548ad5;};return a3_0x37d4();}import a3_0x28d113 from'input';import{Helper}from'../utils/helper.js';import{Api,TelegramClient}from'telegram';import{StoreSession}from'telegram/sessions/StoreSession.js';import a3_0x111c4b from'../utils/logger.js';import{FloodWaitError}from'telegram/errors/RPCErrorList.js';import{Config}from'../../config/config.js';import{HttpsProxyAgent}from'https-proxy-agent';export class Telegram{[a3_0x245534(0x149)];constructor(){const _0x14fd3a=a3_0x245534;this[_0x14fd3a(0x165)]='accounts',this[_0x14fd3a(0x15a)]=_0x14fd3a(0x184),this[_0x14fd3a(0x153)]=_0x14fd3a(0x182);}async['init'](){const _0x5e9faa=a3_0x245534;try{await this[_0x5e9faa(0x142)]();}catch(_0x80f02d){console[_0x5e9faa(0x18e)](_0x80f02d),a3_0x111c4b['error'](''+JSON['stringify'](_0x80f02d));throw _0x80f02d;}}async['onBoarding'](){const _0x351b=a3_0x245534;try{let _0x330fee=_0x351b(0x150);const _0x4867ef=Helper[_0x351b(0x152)]('accounts');if(_0x4867ef['length']==0x0)_0x330fee+=_0x351b(0x13c);else for(const _0x3105c8 of _0x4867ef){_0x330fee+='-\x20'+_0x3105c8+'\x0a';}_0x330fee+=_0x351b(0x18c),_0x330fee+=_0x351b(0x16f);const _0x229e9f=await a3_0x28d113[_0x351b(0x162)](_0x330fee);if(_0x229e9f==0x1)await this[_0x351b(0x13a)]();else{if(_0x229e9f==0x2)Helper[_0x351b(0x16a)](),await Helper[_0x351b(0x151)](0xbb8),await this['onBoarding']();else{if(_0x229e9f==0x3)Helper[_0x351b(0x152)](this[_0x351b(0x165)])?.[_0x351b(0x170)]==0x0&&(console[_0x351b(0x14c)]('You\x20don\x27t\x20have\x20any\x20Accounts,\x20please\x20create\x20first'),await this[_0x351b(0x142)]());else _0x229e9f==0x4?await this[_0x351b(0x185)]():(console[_0x351b(0x172)](_0x351b(0x146)),await this[_0x351b(0x142)]());}}}catch(_0x2fa201){throw _0x2fa201;}}async[a3_0x245534(0x185)](){const _0x481ac7=a3_0x245534;try{const _0x38fa56=Helper['getSession'](_0x481ac7(0x166)),_0x268083=_0x38fa56[_0x481ac7(0x161)](_0x503ca7=>_0x503ca7[_0x481ac7(0x189)](_0x481ac7(0x174)));let _0x5b56ab=_0x481ac7(0x137);for(const _0x28db45 of _0x268083){_0x5b56ab+=_0x38fa56['indexOf'](_0x28db45)+0x1+'.\x20'+_0x28db45+'\x0a';}_0x268083[_0x481ac7(0x170)]==0x0?(console[_0x481ac7(0x18e)](_0x481ac7(0x139)),await this['onBoarding']()):_0x5b56ab+=_0x481ac7(0x17e);const _0x3e604e=await a3_0x28d113[_0x481ac7(0x162)](_0x5b56ab);if(_0x268083[_0x3e604e-0x1]!=undefined){const _0x3b219e=_0x268083[_0x3e604e-0x1];this[_0x481ac7(0x165)]=_0x481ac7(0x180)+_0x3b219e;const _0x3b4205='Old\x20Query\x20:\x20'+Helper[_0x481ac7(0x173)](this[_0x481ac7(0x165)]+_0x481ac7(0x187))+_0x481ac7(0x14d),_0x21e3d8=await a3_0x28d113[_0x481ac7(0x162)](_0x3b4205);await Helper[_0x481ac7(0x148)](this['accountName'],_0x21e3d8),await Helper[_0x481ac7(0x151)](0xbb8),await this[_0x481ac7(0x142)]();}else console[_0x481ac7(0x172)](_0x481ac7(0x146)),await this[_0x481ac7(0x185)]();}catch(_0x28785e){throw _0x28785e;}}async[a3_0x245534(0x171)](){const _0x4df06d=a3_0x245534;try{if(Config[_0x4df06d(0x176)]==undefined||Config['TELEGRAM_APP_HASH']==undefined)throw new Error(_0x4df06d(0x144));const _0x594e90=Helper[_0x4df06d(0x152)](_0x4df06d(0x166));let _0x239a2c='Your\x20Account\x20List\x20:\x0a\x20\x0a';for(const _0x427a70 of _0x594e90){_0x239a2c+=_0x594e90['indexOf'](_0x427a70)+0x1+'.\x20'+_0x427a70+'\x0a';}_0x594e90['length']==0x0?_0x239a2c+='<empty>\x20\x0a\x20\x0aPlease\x20enter\x20Session\x20Name\x20:':_0x239a2c+=_0x4df06d(0x154);const _0x30933a=await a3_0x28d113[_0x4df06d(0x162)](_0x239a2c);this[_0x4df06d(0x165)]=Helper[_0x4df06d(0x140)](_0x4df06d(0x16c)+_0x30933a),await this[_0x4df06d(0x188)](this[_0x4df06d(0x165)]),await this[_0x4df06d(0x13e)](),a3_0x111c4b[_0x4df06d(0x14c)]('Session\x20'+this[_0x4df06d(0x165)]+_0x4df06d(0x18d)),console[_0x4df06d(0x18e)](_0x4df06d(0x163)+_0x30933a+'\x20-\x20Created,\x20Please\x20Restart\x20The\x20Bot\x20Again'),this[_0x4df06d(0x149)][_0x4df06d(0x15e)](),await Helper[_0x4df06d(0x151)](0xbb8),process['exit']();}catch(_0x5a80b1){throw _0x5a80b1;}}async[a3_0x245534(0x17a)](){const _0x49606c=a3_0x245534;try{const _0x289728=Helper[_0x49606c(0x152)](_0x49606c(0x166));let _0x433401=_0x49606c(0x157);for(const _0x3c4d88 of _0x289728){_0x433401+=_0x289728[_0x49606c(0x175)](_0x3c4d88)+0x1+'.\x20'+_0x3c4d88+'\x0a';}_0x289728[_0x49606c(0x170)]==0x0?_0x433401+=_0x49606c(0x15c):_0x433401+=_0x49606c(0x183);const _0x17b98a=await a3_0x28d113['text'](_0x433401);this[_0x49606c(0x165)]=Helper['createDir'](_0x49606c(0x14f)+_0x17b98a);let _0x5dc944=_0x49606c(0x17f);const _0x370eea=await a3_0x28d113['text'](_0x5dc944);await Helper[_0x49606c(0x148)](this[_0x49606c(0x165)],_0x370eea),a3_0x111c4b[_0x49606c(0x14c)](_0x49606c(0x164)+this[_0x49606c(0x165)]+_0x49606c(0x18d)),console[_0x49606c(0x18e)](_0x49606c(0x164)+_0x17b98a+_0x49606c(0x177)),await Helper['delay'](0xbb8),process[_0x49606c(0x181)]();}catch(_0x5ae388){throw _0x5ae388;}}async[a3_0x245534(0x13a)](){const _0x166047=a3_0x245534;try{const _0x1a0c55=Helper[_0x166047(0x152)](_0x166047(0x166));let _0x3a00da=_0x166047(0x157);if(_0x1a0c55[_0x166047(0x170)]>0x0)for(const _0x371efb of _0x1a0c55){_0x3a00da+=_0x1a0c55[_0x166047(0x175)](_0x371efb)+0x1+'.\x20'+_0x371efb+'\x0a';}else _0x3a00da+=_0x166047(0x15f);_0x3a00da+=_0x166047(0x18a);const _0x92fa21=await a3_0x28d113[_0x166047(0x162)](_0x3a00da);if(_0x92fa21==0x1)await this['sessionCreation']();else _0x92fa21==0x2?await this[_0x166047(0x17a)]():(console['log']('Invalid\x20Input'),await this['accountType']());}catch(_0x1063bb){throw _0x1063bb;}}async[a3_0x245534(0x188)](_0x21aa47,_0x1cdeaf){const _0x212530=a3_0x245534;try{this[_0x212530(0x18b)]=_0x1cdeaf;const _0x30e3a3={'connectionRetries':0x5};this[_0x212530(0x18b)]&&(_0x30e3a3['agent']=new HttpsProxyAgent(this[_0x212530(0x18b)])),this['storeSession']=new StoreSession(_0x21aa47),this[_0x212530(0x147)]=new TelegramClient(this['storeSession'],Config[_0x212530(0x176)],Config[_0x212530(0x14e)],_0x30e3a3),this[_0x212530(0x149)][_0x212530(0x15e)](),await this[_0x212530(0x147)][_0x212530(0x158)]({'phoneNumber':async()=>await a3_0x28d113['text']('Enter\x20your\x20Telegram\x20Phone\x20Number\x20?'),'password':async()=>await a3_0x28d113['text'](_0x212530(0x168)),'phoneCode':async()=>await a3_0x28d113[_0x212530(0x162)](_0x212530(0x156)),'onError':_0x2310c0=>{const _0x198553=_0x212530;console[_0x198553(0x18e)](_0x2310c0[_0x198553(0x179)]);}}),console[_0x212530(0x18e)]();}catch(_0x197971){throw _0x197971;}}async[a3_0x245534(0x141)](){const _0x2f9d23=a3_0x245534;try{a3_0x111c4b[_0x2f9d23(0x14c)]('Session\x20'+this['session']+'\x20-\x20Resolving\x20Peer');while(this[_0x2f9d23(0x13f)]==undefined){try{this[_0x2f9d23(0x13f)]=await this[_0x2f9d23(0x147)][_0x2f9d23(0x160)](this[_0x2f9d23(0x153)]);break;}catch(_0x1e647b){if(_0x1e647b instanceof FloodWaitError){const _0x45a1bf=_0x1e647b['seconds'];a3_0x111c4b[_0x2f9d23(0x17c)](this[_0x2f9d23(0x147)][_0x2f9d23(0x16d)][_0x2f9d23(0x16e)]+'\x20|\x20FloodWait\x20'+_0x1e647b),a3_0x111c4b[_0x2f9d23(0x14c)](this[_0x2f9d23(0x147)]['session']['serverAddress']+_0x2f9d23(0x145)+_0x45a1bf+'s'),await Helper[_0x2f9d23(0x151)]((_0x45a1bf+0x3)*0x3e8);}else throw _0x1e647b;}}}catch(_0x5b003f){throw _0x5b003f;}}async['disconnect'](){const _0x238e7a=a3_0x245534;await this[_0x238e7a(0x147)][_0x238e7a(0x13e)](),await this['client']['destroy'](),this[_0x238e7a(0x13f)]=undefined,this['accountName']=undefined;}async[a3_0x245534(0x17d)](){const _0x4ad59e=a3_0x245534;try{const _0x33f772=await this[_0x4ad59e(0x147)][_0x4ad59e(0x169)](new Api[(_0x4ad59e(0x138))][(_0x4ad59e(0x16b))]({'peer':this[_0x4ad59e(0x13f)],'bot':this['peer'],'fromBotMenu':!![],'url':this[_0x4ad59e(0x15a)],'platform':_0x4ad59e(0x167)}));a3_0x111c4b[_0x4ad59e(0x14c)](_0x4ad59e(0x163)+this['session']+_0x4ad59e(0x13d));const _0x3a01dc=_0x33f772['url'];return Helper['getTelegramQuery'](_0x3a01dc,0x3);}catch(_0x556665){throw _0x556665;}}}